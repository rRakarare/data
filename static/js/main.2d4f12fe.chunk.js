(this.webpackJsonpubc_data=this.webpackJsonpubc_data||[]).push([[0],{242:function(c,t,n){},243:function(c,t,n){},250:function(c,t){},252:function(c,t){},413:function(c,t,n){"use strict";n.r(t);var a=n(0),e=n.n(a),o=n(33),r=n.n(o),l=(n(242),n(243),n(426)),i=n(417),s=n(428),u=n(4);var j=function(){return Object(u.jsx)(l.a,{bg:"light",expand:"lg",children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(l.a.Brand,{href:"#home",children:"Data Tools"}),Object(u.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(s.a,{className:"mr-auto",children:[Object(u.jsx)(s.a.Link,{href:"#home",children:"Home"}),Object(u.jsx)(s.a.Link,{href:"#link",children:"Link"})]})})]})})},b=n(58),h=n(19),d=n(233),f=n(215),O=n(430),x=n(424),m=n(425),p=n(229),g=n(230),v=n(203),y=n(421),k=n(427),C=n(217),M=n(422),S=n(423),z=n(231),F=n(209);n(353);var w=function(){var c=Object(a.useState)([["",0,0,{r:0,g:0,b:0,a:0},!1]]),t=Object(h.a)(c,2),n=t[0],e=t[1],o=function(c,t,n,a,e){return function(c,t,n,a,e,o){for(var r="",l=1;l<e+1;l++)r+="M".concat(c-1*n/2-10.583*o/2,",").concat(t+a-31.75*o*l,"v ").concat(7.713741*o," c 0,").concat(-1.8338377*o," ").concat(2.649874*o,",").concat(-1.8338305*o," ").concat(5.291667*o,",").concat(-1.8365803*o," ").concat(2.649642*o,",").concat(-.00273*o," ").concat(5.291665*o,",").concat(-.00273*o," ").concat(5.291667*o,",").concat(1.8365803*o," v ").concat(-7.713741*o," h ").concat(-5.291667*o," c ").concat(1.461192*o,",0 ").concat(2.645834*o,",").concat(1.2333934*o," ").concat(2.645834*o,",").concat(2.7548705*o," 0,").concat(1.5214803*o," ").concat(-1.184642*o,",").concat(2.7548707*o," ").concat(-2.645834*o,",").concat(2.7548707*o," ").concat(-1.461195*o,",0 ").concat(-2.645833*o,",").concat(-1.2333904*o," ").concat(-2.645833*o,",").concat(-2.7548707*o," 0,").concat(-1.5214771*o," ").concat(1.184638*o,",").concat(-2.7548705*o," ").concat(2.645833*o,",").concat(-2.7548705*o," z m ").concat(3.527778*o,",").concat(31.749999*o," c ").concat(-.661431*o,",0 ").concat(-1.322917*o,",").concat(-.298665*o," ").concat(-1.322917*o,",").concat(-.895554*o," v ").concat(-21.3041237*o," h ").concat(-.440972*o," v ").concat(8.7234977*o," c 0,").concat(.826466*o," ").concat(-1.763889*o,",").concat(.826466*o," ").concat(-1.763889*o,",0 v ").concat(13.47618*o," z m 0,0 h ").concat(3.527778*o," c ").concat(-.66143*o,",0 ").concat(-1.322916*o,",").concat(-.298662*o," ").concat(-1.322916*o,",").concat(-.895554*o," ").concat(-3e-6*o,",").concat(-2.938537*o," 0,").concat(-11.202932*o," 0,").concat(-11.202932*o," h ").concat(-.440973*o," ").concat(-.440972*o," v ").concat(11.202932*o," c 0,").concat(.596889*o," ").concat(-.661485*o,",").concat(.895554*o," ").concat(-1.322917*o,",").concat(.895554*o," z m ").concat(3.527778*o,",0 h ").concat(3.527778*o," v ").concat(-13.47618*o," c 0,").concat(.826466*o," ").concat(-1.7638887*o,",").concat(.826466*o," ").concat(-1.7638887*o,",0 ").concat(4e-6*o,",").concat(-2.846709*o," 0,").concat(-8.7234977*o," 0,").concat(-8.7234977*o," h ").concat(-.4409723*o," c 0,0 ").concat(-3e-6*o,",").concat(16.9881477*o," 0,").concat(21.3041237*o," 0,").concat(.596892*o," ").concat(-.661486*o,",").concat(.895554*o," ").concat(-1.322917*o,",").concat(.895554*o," z");return r}(c,t,n,a,e,a/e/31.75)},r=function(c,t,n,a,e){return function(c,t,n,a,e,o){for(var r="",l=1;l<e+1;l++)r+="M".concat(c+n/2-10.583*o/2,",").concat(t+a-31.75*o*l,"m ").concat(5.2916666*o,",").concat(19.651482*o," h ").concat(.4409728*o," c 0,0 ").concat(-29e-7*o,",").concat(8.264644*o," 0,").concat(11.203181*o," 0,").concat(1.193782*o," ").concat(2.6458341*o,",").concat(1.193782*o," ").concat(2.6458341*o,",0 ").concat(-29e-7*o,",").concat(-4.315977*o," 0,").concat(-21.3044125*o," 0,").concat(-21.3044125*o," h ").concat(.4409718*o," c 0,0 ").concat(39e-7*o,",").concat(5.8770835*o," 0,").concat(8.7237915*o," 0,").concat(.826466*o," ").concat(1.7638887*o,",").concat(.826466*o," ").concat(1.7638887*o,",0 ").concat(-3e-6*o,",-").concat(3.305855*o," ").concat(4e-6*o,",").concat(-7.805497*o," 0,").concat(-10.5603755*o," ").concat(-3e-6*o,",").concat(-1.8393136*o," ").concat(-2.6419141*o,",").concat(-1.839317*o," ").concat(-5.2916674*o,",").concat(-1.8365876*o," ").concat(-2.6419044*o,",").concat(.00275*o," ").concat(-5.2916739399524*o,",").concat(.00275*o," ").concat(-5.2916739399524*o,",").concat(1.8365876*o," v ").concat(10.5603755*o," c 0,").concat(.826466*o," ").concat(1.7638922399524*o,",0.826466 ").concat(1.7638922399524*o,",0 v ").concat(-8.7237915*o," h ").concat(.4409729*o," v ").concat(21.3044155*o," c 0,").concat(1.193779*o," ").concat(2.6458359*o,",").concat(1.193779*o," ").concat(2.6458359*o,",0 v ").concat(-11.203184*o," z m ").concat(2.6458379*o,",").concat(-16.8966039*o," c 0,").concat(1.5214804*o," ").concat(-1.1845841*o,",").concat(2.7548814*o," ").concat(-2.6458379*o,",").concat(2.7548814*o," ").concat(-1.4612557*o,",0 ").concat(-2.645836*o,",").concat(-1.233401*o," ").concat(-2.645836*o,",").concat(-2.7548814*o," 0,").concat(-1.5214772*o," ").concat(1.1845803*o,",").concat(-2.7548781*o," ").concat(2.645836*o,",").concat(-2.7548781*o," ").concat(1.4612538*o,",0 ").concat(2.6458379*o,",").concat(1.2334009*o," ").concat(2.6458379*o,",").concat(2.7548781*o," z");return r}(c,t,n,a,e,a/e/31.75)},l=function(c,t,n,a,e,o){var r="",l=a/o,i=l/31.75/1.05;return e.forEach((function(e,o){var s=e*l,u=0;o>0&&(u=l*o),r+="M".concat(c+3*n/2-10.538*i/2,",").concat(t+a-u,"\n        l 0 -").concat(s,"\n        l ").concat(10.583*i," 0\n        l 0 ").concat(s,"\n        Z")})),r},i=function(c){var t=c.fill,n=c.x,a=c.y,e=c.width,r=c.height,l=c.keyname,i=c.anzahl[l];return Object(u.jsx)("path",{d:o(n,a,e,r,i),stroke:"none",fill:t})},s=function(c){var t=c.fill,n=c.fillOpacity,a=c.x,e=c.y,o=c.width,l=c.height,i=c.keyname,s=c.anzahl[i];return Object(u.jsx)("path",{d:r(a,e,o,l,s),stroke:"none",fill:t,fillOpacity:n})},j=function(c){var t=c.fill,n=c.fillOpacity,a=c.x,e=c.y,o=c.width,r=c.height,i=c.keyname,s=c.vk,j=c.anzahl,b=s[i],h=j[i];return Object(u.jsx)("path",{d:l(a,e,o,r,b,h),stroke:"none",fill:t,fillOpacity:n})},w=function(c){var t=c.x,n=c.y,a=c.width,e=(c.height,c.value);return Object(u.jsx)("g",{children:Object(u.jsx)("text",{x:t+a/2,y:n-10,fontSize:"".concat(vc/100,"rem"),fontWeight:"600",fontFamily:"Roboto",fill:"black",textAnchor:"middle",dominantBaseline:"middle",children:isNaN(parseFloat(e))?"":parseFloat(e).toFixed(Mc)})})},I=n.map((function(c,t){return Object(u.jsx)(d.a,{dataKey:function(t){return t.anzahl[c[0]]},shape:Object(u.jsx)(s,{keyname:c[0]}),fill:"rgb(".concat(c[3].r,",").concat(c[3].g,",").concat(c[3].b,")"),fillOpacity:.2,stackId:"a",children:t===n.length-1?Object(u.jsx)(f.a,{dataKey:function(c){return c.labelValue},content:w,position:"top"}):null})})),L=n.map((function(c){return Object(u.jsx)(d.a,{dataKey:function(t){return t.anzahl[c[0]]},shape:Object(u.jsx)(j,{keyname:c[0]}),fill:"rgb(".concat(c[3].r,",").concat(c[3].g,",").concat(c[3].b,")"),fillOpacity:1,stackId:"b"})})),A=n.map((function(c){return Object(u.jsx)(d.a,{dataKey:function(t){return t.anzahl[c[0]]},shape:Object(u.jsx)(i,{keyname:c[0]}),fill:"white",stackId:"c"})})),B=Object(a.useState)(null),D=Object(h.a)(B,2),K=D[0],N=D[1],E=Object(a.useState)(null),V=Object(h.a)(E,2),T=V[0],P=V[1],R=Object(a.useState)([]),q=Object(h.a)(R,2),G=q[0],H=q[1],J=Object(a.useState)(""),_=Object(h.a)(J,2),U=_[0],W=_[1],X=Object(a.useState)([]),Z=Object(h.a)(X,2),Q=Z[0],Y=Z[1],$=Object(a.useState)(""),cc=Object(h.a)($,2),tc=cc[0],nc=cc[1],ac=Object(a.useState)([]),ec=Object(h.a)(ac,2),oc=ec[0],rc=ec[1],lc=Object(a.useState)(null),ic=Object(h.a)(lc,2),sc=ic[0],uc=ic[1],jc=Object(a.useState)(null),bc=Object(h.a)(jc,2),hc=bc[0],dc=bc[1],fc=Object(a.useState)(null),Oc=Object(h.a)(fc,2),xc=Oc[0],mc=Oc[1],pc=Object(a.useState)(100),gc=Object(h.a)(pc,2),vc=gc[0],yc=gc[1],kc=Object(a.useState)(1),Cc=Object(h.a)(kc,2),Mc=Cc[0],Sc=Cc[1],zc=Object(a.useState)(300),Fc=Object(h.a)(zc,2),wc=Fc[0],Ic=Fc[1],Lc=Object(a.useState)(!1),Ac=Object(h.a)(Lc,2),Bc=Ac[0],Dc=Ac[1],Kc=function(){var c=K[0].data.length,t=K[0].data.findIndex((function(c){return c==U})),a=K[0].data.findIndex((function(c){return c==tc})),o=K[0].data.findIndex((function(c){return c==sc})),r=K.filter((function(t){return t.data.length==c}));r.shift();var l=r.map((function(c,n){return c.data[t]})),i=new Set(l),s=Array.from(i),u=s.map((function(c,t){return console.log(n),{name:c,color:null==T?{r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random()),a:1}:{r:n[t][3].r,g:n[t][3].g,b:n[t][3].b,a:1}}}));console.log(u),e(u.map((function(c){return[c.name,r.filter((function(n){return n.data[t]==c.name})).length,r.filter((function(n){return n.data[t]==c.name})).map((function(c){return parseFloat(c.data[o].replace(",","."))})).reduce((function(c,t){return c+t}),0).toFixed(2),{r:c.color.r,g:c.color.g,b:c.color.b,a:1},!1]})));var j=r.map((function(c,t){return parseInt(c.data[a],10)})),h=Math.min.apply(Math,Object(b.a)(j)),d=Math.max.apply(Math,Object(b.a)(j));hc&&(h=hc),xc&&(d=xc);for(var f=[],O=h;O<=d;O++)f.push(O);var x=f.map((function(c){var n={};s.forEach((function(e){n[e]=r.filter((function(n){return n.data[t]==e&&n.data[a]==c})).length}));var e={};s.forEach((function(n){e[n]=r.filter((function(e){return e.data[t]==n&&e.data[a]==c})).map((function(c){return parseFloat(c.data[o].replace(",","."))}))}));var l=[];Object.values(e).forEach((function(c){return c.map((function(c){return l.push(c)}))}));var i=l.reduce((function(c,t){return c+t}),0).toFixed(2);return{name:c,anzahl:n,vk:e,labelPosition:Object.values(n).reduce((function(c,t){return c+t}),0),labelValue:0==i?null:i}}));P(x),Dc(!0)},Nc=function(c){return function(t){n[c][3]=t.rgb,e(Object(b.a)(n))}},Ec=function(c){return function(){n[c][4]=!n[c][4],e(Object(b.a)(n))}},Vc=function(c){return function(){n[c][4]=!1,e(Object(b.a)(n))}},Tc=function(c){return function(){n[c][3]={r:Math.floor(256*Math.random()),g:Math.floor(256*Math.random()),b:Math.floor(256*Math.random()),a:1},e(Object(b.a)(n))}},Pc=n.map((function(c,t){return Object(u.jsx)("tr",{children:c.map((function(c,a){return 3==a?Object(u.jsxs)("td",{children:[Object(u.jsx)(y.a,{size:"sm",style:{background:"rgba(".concat(n[t][3].r,",").concat(n[t][3].g,",").concat(n[t][3].b,",").concat(n[t][3].a,")")},onClick:Ec(t),children:"Choose"}),n[t][4]?Object(u.jsxs)("div",{style:{position:"absolute",zIndex:"2"},children:[Object(u.jsx)("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:Vc(t)}),Object(u.jsx)(z.a,{name:"asdqwe",color:c,asdqwe:a,onChange:Nc("".concat(t)),presetColors:["#2089C6","#459382","#632B30","#EB9E69","#519599","#004D75"]})]}):null,Object(u.jsx)(y.a,{onClick:Tc(t),className:"ml-2",size:"sm",children:Object(u.jsx)("i",{className:"fas fa-sync-alt"})})]}):4==a?null:Object(u.jsx)("td",{children:c})}))})}));return Object(a.useEffect)((function(){null!=K&&Kc()}),[wc,hc,xc]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h5",{className:"my-3",children:"Click and Drag Upload"}),Object(u.jsx)(v.a,{className:"mb-2",onDrop:function(c){N(c),H(c[0].data),W(c[0].data[0]),Y(c[0].data),nc(c[0].data[1]),rc(c[0].data),uc(c[0].data[2])},onError:function(c,t,n,a){console.log(c)},addRemoveButton:!0,onRemoveFile:function(c){console.log("---------------------------"),console.log(c),console.log("---------------------------")},children:Object(u.jsx)("span",{children:"Drop CSV file here or click to upload."})}),Object(u.jsx)(k.a,{children:Object(u.jsxs)(k.a.Row,{controlId:"exampleForm.SelectCustom",children:[Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Bereich"}),Object(u.jsx)(k.a.Control,{as:"select",custom:!0,value:U,onChange:function(c){return W(c.target.value)},children:G.map((function(c){return Object(u.jsx)("option",{children:c})}))})]}),Object(u.jsxs)(C.a,{controlId:"exampleForm.SelectCustom",children:[Object(u.jsx)(k.a.Label,{children:"Alter"}),Object(u.jsx)(k.a.Control,{as:"select",custom:!0,value:tc,onChange:function(c){return nc(c.target.value)},children:Q.map((function(c){return Object(u.jsx)("option",{children:c})}))})]}),Object(u.jsxs)(C.a,{controlId:"exampleForm.SelectCustom",children:[Object(u.jsx)(k.a.Label,{children:"VK"}),Object(u.jsx)(k.a.Control,{as:"select",custom:!0,value:sc,onChange:function(c){return uc(c.target.value)},children:oc.map((function(c){return Object(u.jsx)("option",{children:c})}))})]})]})}),Object(u.jsx)(y.a,{className:"my-3",variant:"info",size:"",block:!0,disabled:""==U&&""==tc&&""==sc,onClick:Kc,children:"Proceed"}),Bc?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(M.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Bereich"}),Object(u.jsx)("th",{children:"Anzahl Mitarbeiter"}),Object(u.jsx)("th",{children:"VK"}),Object(u.jsx)("th",{children:"Color"})]})}),Object(u.jsx)("tbody",{children:Pc})]}),Object(u.jsxs)(S.a,{className:"my-3",children:[Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Graph-Height"}),Object(u.jsx)(k.a.Control,{min:"10",max:"1000",placeholder:"Graph Height",type:"number",onChange:function(c){return Ic(parseInt(c.target.value))},value:wc})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Font-Size [%]"}),Object(u.jsx)(k.a.Control,{min:"0",max:"100",placeholder:"Font-Size VK in %",type:"number",onChange:function(c){return yc(parseInt(c.target.value))},value:vc})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Min. Alter"}),Object(u.jsx)(k.a.Control,{value:hc,onChange:function(c){return dc(parseInt(c.target.value))},placeholder:"Min. Age",type:"number"})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Max. Alter"}),Object(u.jsx)(k.a.Control,{value:xc,onChange:function(c){return mc(c.target.value)},placeholder:"Max. Age",type:"number"})]}),Object(u.jsxs)(C.a,{children:[Object(u.jsx)(k.a.Label,{children:"Digits (VK)"}),Object(u.jsx)(k.a.Control,{value:Mc,onChange:function(c){return Sc(c.target.value)},max:3,min:1,placeholder:"Digits VK",type:"number"})]}),Object(u.jsx)(C.a,{children:Object(u.jsx)(y.a,{size:"md",variant:"success",block:!0,onClick:function(){var c=document.querySelector(".recharts-surface"),t=(new XMLSerializer).serializeToString(c),n=new Blob([t],{type:"image/svg+xml;charset=utf-8"});Object(F.saveAs)(n,"altersstruktur.svg")},children:"Download"})})]}),Object(u.jsx)("div",{style:{height:"".concat(wc,"px"),width:"100%"},children:Object(u.jsx)(O.a,{width:"100%",height:"100%",children:Object(u.jsxs)(x.a,{data:T,margin:{top:20,right:30,left:20,bottom:5},barGap:"0%",children:[Object(u.jsx)(m.a,{strokeDasharray:"3 3"}),Object(u.jsx)(p.a,{tickMargin:4,padding:{left:10,right:10},dataKey:"name"}),Object(u.jsx)(g.a,{tickMargin:4,padding:{bottom:10}}),L,I,A]})})})]}):null]})};var I=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)(i.a,{children:Object(u.jsx)(w,{})})]})},L=function(c){c&&c instanceof Function&&n.e(3).then(n.bind(null,431)).then((function(t){var n=t.getCLS,a=t.getFID,e=t.getFCP,o=t.getLCP,r=t.getTTFB;n(c),a(c),e(c),o(c),r(c)}))};r.a.render(Object(u.jsx)(e.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),L()}},[[413,1,2]]]);
//# sourceMappingURL=main.2d4f12fe.chunk.js.map